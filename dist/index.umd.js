(function(f,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("react"),require("lucide-react")):typeof define=="function"&&define.amd?define(["exports","react","lucide-react"],n):(f=typeof globalThis<"u"?globalThis:f||self,n(f.ToastFace={},f.React,f.lucideReact))})(this,function(f,n,y){"use strict";let i=[],S=[],k=[],D=3;function C(){k.forEach(t=>t([...i]))}function L(){return Math.random().toString(36).substr(2,9)}function j(){if(i.length>=D||S.length===0)return;const t=S.shift();t.startTime=Date.now(),t.remaining=t.duration,t.isPaused=!1,t.timeoutId=setTimeout(()=>{B(t.id),j()},t.remaining),i=[...i,t],C()}function O(t){const r=i.find(d=>d.id===t);if(!r||r.isPaused)return;const o=Date.now()-r.startTime;r.remaining-=o,r.isPaused=!0,clearTimeout(r.timeoutId)}function K(t){const r=i.find(o=>o.id===t);!r||!r.isPaused||(r.startTime=Date.now(),r.timeoutId=setTimeout(()=>B(r.id),r.remaining),r.isPaused=!1)}function B(t){const r=i.find(o=>o.id===t);r&&clearTimeout(r.timeoutId),i=i.map(o=>o.id===t?{...o,exiting:!0}:o),C(),setTimeout(()=>{i=i.filter(o=>o.id!==t),C(),j()},400)}function V(t){return i.find(r=>r.id===t)}function b(t){const r=L(),o={id:r,duration:t.duration||3e3,type:t.type||"info",message:t.message||"",icon:t.icon||null,subMessage:t.subMessage||"",body:t.body||"",loader:t.loader||!1,closable:t.closable??!0,image:t.image||null,startTime:null,remaining:null,timeoutId:null,isPaused:!1};return S.push(o),j(),r}function Q(){i.forEach(t=>clearTimeout(t.timeoutId)),i=[],S=[],C()}const u={success:(t,r={})=>b({type:"success",message:t,...r}),error:(t,r={})=>b({type:"error",message:t,...r}),warning:(t,r={})=>b({type:"warning",message:t,...r}),info:(t,r={})=>b({type:"info",message:t,...r}),custom:(t,r={})=>b({type:"custom",message:t,...r}),notification:(t={})=>b({type:"notification",...t}),remove:B,clear:Q,subscribe:t=>(k.push(t),t([...i]),()=>{k=k.filter(r=>r!==t)}),pause:O,resume:K,get:V},m={success:"#16a34a",error:"#dc2626",warning:"#f59e0b",info:"#2563eb",default:"#334155",custom:"#7c3aed",notification:"#0ea5e9"};function M(t,r=.3){const o=parseInt(t.slice(1,3),16),d=parseInt(t.slice(3,5),16),h=parseInt(t.slice(5,7),16);return`rgba(${o}, ${d}, ${h}, ${r})`}function _({position:t="top-right",stack:r="queue",animation:o="popup",variant:d="crust",darkMode:h=!1,bgColor:J,textColor:N,borderRadius:U=12}){const[w,Z]=n.useState([]),[P,z]=n.useState(null),[R,H]=n.useState({}),X=n.useRef({}),p=n.useRef({}),E=n.useRef({}),W=n.useRef({}),A=n.useRef({}),[ee,te]=n.useState(0);n.useEffect(()=>{const e=u.subscribe(Z);return()=>e()},[]),n.useEffect(()=>{r==="android"&&w.forEach(e=>{H(s=>({...s,[e.id]:!1})),setTimeout(()=>{H(s=>({...s,[e.id]:!0}))},250)})},[w]);const re=e=>{z(e),u.pause(e);const s=performance.now(),c=u.get(e);if(c&&E.current[e]){const a=s-E.current[e],l=Math.max((c.duration??3e3)-a,0);A.current[e]=l,W.current[e]=s,p.current[e]&&(clearTimeout(p.current[e]),delete p.current[e])}},ne=e=>{z(null),u.resume(e);const s=A.current[e];s!=null&&(E.current[e]=performance.now()-((u.get(e)?.duration??3e3)-s),p.current[e]=setTimeout(()=>{u.remove(e),delete p.current[e]},s),delete A.current[e],delete W.current[e],te(c=>c+1))},oe={"top-right":{right:"1rem"},"top-center":{left:"50%",transform:"translateX(-50%)"},"top-left":{left:"1rem"},"bottom-right":{right:"1rem"},"bottom-center":{left:"50%",transform:"translateX(-50%)",bottom:"1rem"},"bottom-left":{left:"1rem"}}[t],I=t.startsWith("bottom"),F=P?"block":r;let Y=[...w];return r==="queue"&&I&&Y.reverse(),n.useEffect(()=>(w.forEach(e=>{if(!e.duration||P===e.id)return;const s=performance.now(),c=E.current[e.id]??s,a=s-c,l=Math.max(e.duration-a,0);p.current[e.id]||(p.current[e.id]=setTimeout(()=>{u.remove(e.id),delete p.current[e.id]},l))}),()=>{Object.values(p.current).forEach(clearTimeout)}),[w,P]),n.createElement("div",{style:{position:"fixed",zIndex:9999,...oe,[I?"bottom":"top"]:"1rem"}},n.createElement("div",{style:{position:"relative",width:320}},Y.map((e,s)=>{const c=P===e.id,a=r==="android",l=R[e.id]||c;X.current[e.id]=X.current[e.id]||n.createRef();const se=F==="queue"?s*12:s*(X.current[e.id]?.current?.offsetHeight+2||82),ie=F==="queue"?1-s*.05:1,ae=F==="queue"?1-s*.1:1;let x=J??(h?"#1f2937":m[e.type]||m.default),v=N??(h?"#fff":"white"),T="none",$="none";d==="glass"&&(x=M(m[e.type]||"#000",.5),v="#111",T=`1px solid ${m[e.type]||"#fff"}`,$="blur(10px)"),d==="outline"&&(T=`1.4px solid ${m[e.type]||"#000"}`,x=M(m[e.type]||"#000",.9)),d==="shadowed"&&(x=h?"#0f172a":"#fff",v=h?"#f1f5f9":"#1e293b",T="1px solid rgba(0,0,0,0.05)"),d==="frosted"&&(x=M(m[e.type],.25),v="#fff",T="1px solid rgba(255, 255, 255, 0.2)",$="blur(12px)"),d==="terminal"&&(x="#0f0f0f",v=M(m[e.type],.9),T=`1.4px solid ${m[e.type]}`,$="none");let g=n.createElement(y.Bell,null);if(e.type==="success")g=n.createElement(y.CheckCircle,null);else if(e.type==="error")g=n.createElement(y.XCircle,null);else if(e.type==="warning")g=n.createElement(y.AlertTriangle,null);else if(e.type==="info")g=n.createElement(y.Info,null);else if(typeof e.icon=="function")try{g=n.createElement(e.icon)}catch{g=n.createElement(y.Bell,null)}else n.isValidElement(e.icon)&&(g=e.icon);return E.current[e.id]||(E.current[e.id]=performance.now()),n.createElement("div",{key:e.id,ref:X.current[e.id],style:{background:x,color:v,padding:a&&!l?"0.5rem":"0.75rem 1rem",borderRadius:a&&!l?"999px":U,display:"flex",alignItems:"center",justifyContent:a&&!l?"center":"flex-start",width:a&&!l?40:"fit-content",minWidth:a&&!l?40:300,maxWidth:320,gap:a&&!l?0:"1rem",overflow:"hidden",border:T,backdropFilter:$,WebkitBackdropFilter:$,position:"absolute",[I?"bottom":"top"]:`${se}px`,left:0,right:0,margin:"0 auto",transform:`scale(${ie})`,opacity:ae,zIndex:9999-s,transition:"all 0.3s ease",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",animation:`${e.exiting?`${o}-out`:`${o}-in`} 0.4s ease forwards`},onMouseEnter:()=>re(e.id),onMouseLeave:()=>ne(e.id)},n.createElement("span",{style:{display:"flex",alignItems:e.type==="notification"?"start":"center",justifyContent:"center",flexShrink:0,height:"100%"}},e.type==="notification"?n.createElement("img",{src:e.image||"https://images.pexels.com/photos/1704488/pexels-photo-1704488.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",alt:"avatar",style:{width:40,height:40,borderRadius:"999em"}}):g),n.createElement("div",{style:{flex:1,position:a&&!l?"absolute":"relative",opacity:a&&!l?0:1,transition:"opacity 0.3s ease"}},n.createElement("div",{style:{position:a&&!l?"absolute":"relative",opacity:a&&!l?0:1,transition:"position  0.3s ease , opacity 250ms 0.3s ease"}},e.message),e.subMessage&&n.createElement("div",{style:{fontSize:12,opacity:.8,lineHeight:".65",marginBottom:".5em"}},e.subMessage),e.body&&n.createElement("div",{style:{}},e.body),e.loader&&n.createElement("div",{style:{marginTop:4,height:4,background:"#fff3",width:"100%",borderRadius:2,overflow:"hidden"}},n.createElement("div",{key:ee+e.id,style:{width:"100%",height:"100%",background:"#fff",transformOrigin:"left",animation:`loader-${e.id} ${e.duration??3e3}ms linear forwards`,animationPlayState:c?"paused":"running",opacity:c?.5:1}}))),e.closable&&!a&&n.createElement("button",{onClick:()=>u.remove(e.id),style:{padding:".5em",background:"transparent",border:"none",color:v,cursor:"pointer",fontSize:16}},n.createElement(y.X,null)),n.createElement("style",null,`
                @keyframes loader-${e.id} {
                  from { transform: scaleX(1); }
                  to { transform: scaleX(0); }
                }

                
                @keyframes slide-in {
                  from { transform: translateY(${I?"100%":"-100%"});  }
                  to { transform: translateY(0);  }
                }
                @keyframes slide-out {
                  from { transform: translateY(0);  opacity:1;}
                  to { transform: translateY(${I?"100%":"-100%"});  opacity:0;}
                }


              `))})))}function q(t){return(r,o={})=>{u[t](r,o)}}const G={success:q("success"),error:q("error"),warning:q("warning"),info:q("info"),custom:(t,r={})=>u.custom(t,r),notification:(t={})=>u.notification(t),remove:u.remove,clear:u.clear};f.ToastFace=_,f.toast=G,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
